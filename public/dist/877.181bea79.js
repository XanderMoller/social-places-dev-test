"use strict";((self||this).webpackChunk=(self||this).webpackChunk||[]).push([[877,434],{8877:(t,e,l)=>{l.r(e),l.d(e,{default:()=>h});var i=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",t._l(t.filterChunks,(function(e,i){return l("v-row",{key:"filter-"+i+"-chunk"},[l("v-col",{staticClass:"row",attrs:{cols:t.multipleOfFour?11:12}},[t._l(e,(function(e,n){return l("v-col",{key:"filter-"+i+"-"+n,attrs:{cols:"3"}},[l(t.getFilterType(e),{tag:"component",attrs:{filter:e},model:{value:e.values,callback:function(l){t.$set(e,"values",l)},expression:"filter.values"}})],1)})),t._v(" "),t.multipleOfFour||t.filterChunks.length-1!==i?t._e():l("v-col",{attrs:{cols:"1"}},[l("v-btn",{staticClass:"mr-2",attrs:{loading:t.loading||t.filtersLoading,color:"primary",elevation:"2",fab:"",small:""},on:{click:function(e){return e.stopPropagation(),t.handleFiltered.apply(null,arguments)}}},[l("v-icon",{attrs:{dark:"",small:""}},[t._v("fas fa-arrow-right")])],1)],1)],2),t._v(" "),t.multipleOfFour&&t.filterChunks.length-1===i?l("v-col",{staticStyle:{"align-self":"center"},attrs:{cols:"1"}},[l("v-btn",{staticClass:"mr-2",attrs:{loading:t.loading||t.filtersLoading,color:"accent",elevation:"2",fab:"",small:""},on:{click:function(e){return e.stopPropagation(),t.handleFiltered.apply(null,arguments)}}},[l("v-icon",{attrs:{dark:"",small:""}},[t._v("fas fa-arrow-right")])],1)],1):t._e()],1)})),1)};i._withStripped=!0;l(1539),l(8674),l(7727),l(7327),l(9753),l(6992),l(3948),l(8309);var n=l(3248);const r={name:"FilterBlock",components:{AutocompleteFilter:l(3434).default},props:{eventPrefix:{type:String,default:null},filterUrl:{type:String,required:!0},hideRefreshButton:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},data:function(){return{filtersLoading:!1,filters:[]}},computed:{filterChunks:function(){return this.filters?_.chunk(this.filters,4):[]},multipleOfFour:function(){return!!this.filters&&this.filters.length%4==0}},created:function(){this.loadFilters()},methods:{loadFilters:function(){var t=this;this.filterUrl?(this.filtersLoading=!0,n.Z.get(this.filterUrl).then((function(e){var l=e.data;t.filters=l})).finally((function(){t.handleFiltered(),t.filtersLoading=!1}))):this.handleFiltered()},getFilterType:function(t){return t.type?t.type.ucfirst()+"Filter":"AutocompleteFilter"},handleFiltered:function(){var t={};this.filters.filter((function(e){(Array.isArray(e.values)&&e.values.length>0||!Array.isArray(e.values)&&e.values)&&(t[e.name]=e.values)})),this.$emit("filter",t)}}};var a=l(1900),s=l(3453),o=l.n(s),u=l(461),c=l(7024),f=l(1836),p=l(7894),d=(0,a.Z)(r,i,[],!1,null,"90695d5a",null);o()(d,{VBtn:u.Z,VCol:c.Z,VIcon:f.Z,VRow:p.Z}),d.options.__file="assets/js/components/layout/filter-table/FilterBlock.vue";const h=d.exports},3434:(t,e,l)=>{l.r(e),l.d(e,{default:()=>d});var i=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("v-autocomplete",{staticClass:"autocomplete-filter  filter",attrs:{items:t.items,label:t.filter.label,loading:t.loading,multiple:t.filter.multiple,clearable:"",color:"primary","deletable-chips":"",dense:"",flat:"",filled:"",outlined:"","hide-details":"","item-color":"primary","item-text":"name","item-value":"id",rounded:"","small-chips":"","search-input":t.searchInput},on:{"update:searchInput":function(e){t.searchInput=e},"update:search-input":function(e){t.searchInput=e},input:function(e){t.searchInput=null}},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.attrs,n=e.item,r=e.parent,a=e.selected;return[n===Object(n)?l("v-chip",t._b({attrs:{"input-value":a,color:"primary",label:"",outlined:"",small:""},on:{click:function(e){return t.selectItem(r,n)}}},"v-chip",i,!1),[l("span",{staticClass:"pr-2"},[t._v(t._s(n.name))]),t._v(" "),l("v-icon",{attrs:{color:"primary",small:""}},[t._v("fas fa-times")])],1):t._e()]}}]),model:{value:t.internalValue,callback:function(e){t.internalValue=e},expression:"internalValue"}})};i._withStripped=!0;l(9653),l(7327),l(1539);var n=l(3248);const r={name:"AutocompleteFilter",props:{filter:{type:Object},value:{type:Array|String|Number}},data:function(){return{loading:!1,items:[],searchInput:null}},mounted:function(){this.init()},computed:{internalValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{init:function(){var t=this;this.filter.url?n.Z.post(this.filter.url).then((function(e){var l=e.data;t.items=l})):this.items=this.filter.data},selectItem:function(t,e){t.selectItem(e)}}};var a=l(1900),s=l(3453),o=l.n(s),u=l(2122),c=l(1738),f=l(1836),p=(0,a.Z)(r,i,[],!1,null,"180b82b4",null);o()(p,{VAutocomplete:u.Z,VChip:c.Z,VIcon:f.Z}),p.options.__file="assets/js/components/layout/filter-table/filters/AutocompleteFilter.vue";const d=p.exports}}]);