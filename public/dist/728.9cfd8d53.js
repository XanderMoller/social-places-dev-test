"use strict";((self||this).webpackChunk=(self||this).webpackChunk||[]).push([[728],{3155:(t,e,n)=>{n.r(e),n.d(e,{default:()=>g});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex pb-1"},[t.internalItems.length>1&&!t.displayOnly?n("v-select",t._b({staticClass:"basic-select",class:{"table-select":t.tableMode},style:t.internalWidth,attrs:{disabled:t.loading,flat:t.tableMode,"item-text":t.itemText,"item-value":t.itemValue,items:t.internalItems,loading:t.loading,solo:t.tableMode,value:t.value,color:"primary",dense:"","hide-details":"","item-color":"primary"},on:{change:t.handleChange},scopedSlots:t._u([t.nestedItems?{key:"item",fn:function(e){e.parent;var i=e.item;return[n("v-list-item-content",[n("v-list-item-title",{class:"pl-"+i.level*t.spacingMultiplier},[t._v(t._s(i[t.itemText]))])],1)]}}:null],null,!0)},"v-select",t.$attrs,!1)):n("span",{staticClass:"selected-option selected-display-only",class:{"with-margin":t.tableMode},style:t.internalWidth},[t._v("\n        "+t._s(t.calculatedValue[t.itemText])+"\n    ")])],1)};i._withStripped=!0;n(7042),n(8309),n(1038),n(8783),n(2526),n(1817),n(2165),n(6992),n(3948),n(9753),n(7941),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321),n(9070);var r=n(1002),l=n(4942),a=(n(9653),n(6699),n(1539),n(8674),n(4916),n(5306),n(3123),n(9600),n(1249),n(7727),n(3248));function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,l.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){o=!0,l=t},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw l}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}const d={name:"BasicSelect",props:{items:{type:Array,default:function(){return[]}},value:{required:!1},rowItemId:{required:!1,default:null},tableMode:{type:Boolean,default:!1},width:{type:Number|String,default:0},field:{type:String,default:null,required:!1},url:{type:String,required:!1,default:null},item:{type:String},itemText:{type:String,default:"name"},itemValue:{type:String,default:"id"},itemChildren:{type:String,default:"children"},displayOnly:{type:Boolean,default:!1},emptyText:{type:String,default:"Unknown"},nestedItems:{type:Boolean,default:!1},spacingMultiplier:{type:Number,default:3},method:{type:String,default:"POST",validator:function(t){return["post","put","patch","get"].includes(t.toLowerCase())}},confirmationFunction:{type:Function,default:function(){return new Promise((function(t){t()}))}}},data:function(){if(null!==this.url&&(null===this.rowItemId||null===this.field))throw new Error("When a url is specified, please provide a rowItemId and field");return{loading:!1,maxLevels:Math.floor(16/this.spacingMultiplier)}},computed:{calculatedValue:function(){var t,e=s(this.internalItems);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n[this.itemValue]===this.value)return n}}catch(t){e.e(t)}finally{e.f()}var i={};return i[this.itemValue]=-1,i[this.itemText]=this.emptyText,i},internalWidth:function(){if(this.width&&this.width>0){var t=this.width+"px";return{width:t,"max-width":t}}return{}},uri:function(){return this.url.replace(/{field}/g,this.field).replace(/{id}/g,this.rowItemId).replace(/{item}/g,this.item.camelToKebab())},internalItems:function(){return this.items}},methods:{handleChange:function(t){var e,n,i=this;if(null!==this.url){var o=function(){return new Promise((function(t){t()}))};this.confirmationFunction&&"function"==typeof this.confirmationFunction&&(o=this.confirmationFunction),this.loading=!0;var s=new FormData,c=null===(e=this.field.replace(/-/g," ").split(" "))||void 0===e?void 0:e.map((function(t){return t.ucfirst()})).join("").lcfirst();s.append(c,null!=t?t:""),s.append("id",this.rowItemId),this.$emit("change",(n={id:this.rowItemId},(0,l.Z)(n,c,t),(0,l.Z)(n,"initial",!0),n)),o().then((function(){var t,e=(null===(t=i.method)||void 0===t?void 0:t.toLowerCase())||"post";a.Z[e](i.uri,"get"===e?{}:s).then((function(t){var e,n=t.data[i.item];i.rowItemId!==(null==n?void 0:n.id)&&i.rowItemId!==(null==n?void 0:n.identifier)||("object"===(0,r.Z)(n)?i.$emit("change",u(u({},n),{},{initial:!1})):i.$emit("change",(e={},(0,l.Z)(e,i.item,n),(0,l.Z)(e,"initial",!1),e)))})).catch((function(t){i.$emit("error",{id:i.rowItemId,error:t})})).finally((function(){i.loading=!1}))})).catch((function(t){i.$emit("error",{id:i.rowItemId,error:t}),i.loading=!1}))}else this.$emit("change",t)}}};var f=n(1900),m=n(3453),p=n.n(m),h=n(7948),y=n(8624),v=(0,f.Z)(d,i,[],!1,null,"33166912",null);p()(v,{VListItemContent:h.km,VListItemTitle:h.V9,VSelect:y.Z}),v.options.__file="assets/js/components/general/BasicSelect.vue";const g=v.exports}}]);